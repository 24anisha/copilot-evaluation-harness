{
    "case_id": "case-765",
    "repo_name": "dbcli/mycli",
    "file_path": "mycli/completion_refresher.py",
    "code_snippet": "        self._restart_refresh = threading.Event()\n\n    def refresh(self, executor, callbacks, completer_options=None):\n        \"\"\"Creates a SQLCompleter object and populates it with the relevant\n        completion suggestions in a background thread.\n\n        executor - SQLExecute object, used to extract the credentials to connect\n                   to the database.\n        callbacks - A function or a list of functions to call after the thread\n                    has completed the refresh. The newly created completion\n                    object will be passed in as an argument to each callback.\n        completer_options - dict of options to pass to SQLCompleter.\n\n        \"\"\"\n        if completer_options is None:\n            completer_options = {}\n\n        if self.is_refreshing():\n            self._restart_refresh.set()\n            return [(None, None, None, \"Auto-completion refresh restarted.\")]\n        else:\n            self._completer_thread = threading.Thread(\n                target=self._bg_refresh, args=(executor, callbacks, completer_options), name=\"completion_refresh\"\n            )\n            self._completer_thread.daemon = True\n            self._completer_thread.start()\n            return [(None, None, None, \"Auto-completion refresh started in the background.\")]\n\n    def is_refreshing(self):\n",
    "line_range": [
        14,
        42
    ],
    "command_specific_fields": {
        "method_name": "refresh"
    },
    "language": "python",
    "commit": "af5a17d980450e184cfc25e56e0e91a1389d378d",
    "prompt": ""
}