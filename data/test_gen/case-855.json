{
    "case_id": "case-855",
    "repo_name": "ranger/ranger",
    "file_path": "ranger/ext/signals.py",
    "code_snippet": "                handlers.remove(signal_handler)\n            except IndexError:\n                pass\n\n    def signal_garbage_collect(self):\n        \"\"\"Remove all handlers with deleted weak references.\n\n        Usually this is not needed; every time you emit a signal, its handlers\n        are automatically checked in this way.  However, if you can't be sure\n        that a signal is ever emitted AND you keep binding weakly referenced\n        functions to the signal, this method should be regularly called to\n        avoid memory leaks in self._signals.\n\n        >>> sig = SignalDispatcher()\n\n        >>> # lambda:None is an anonymous function which has no references\n        >>> # so it should get deleted immediately\n        >>> handler = sig.signal_bind('test', lambda: None, weak=True)\n        >>> len(sig._signals['test'])\n        1\n        >>> # need to call garbage collect so that it's removed from the list.\n        >>> sig.signal_garbage_collect()\n        >>> len(sig._signals['test'])\n        0\n        >>> # This demonstrates that garbage collecting is not necessary\n        >>> # when using signal_emit().\n        >>> handler = sig.signal_bind('test', lambda: None, weak=True)\n        >>> sig.signal_emit('another_signal')\n        True\n        >>> len(sig._signals['test'])\n        1\n        >>> sig.signal_emit('test')\n        True\n        >>> len(sig._signals['test'])\n        0\n        \"\"\"\n        for handler_list in self._signals.values():\n            i = len(handler_list)\n            while i:\n                i -= 1\n                handler = handler_list[i]\n                try:\n                    if isinstance(handler.function, tuple):\n                        handler.function[1].__class__  # pylint: disable=pointless-statement\n                    else:\n                        handler.function.__class__  # pylint: disable=pointless-statement\n                except ReferenceError:\n",
    "line_range": [
        192,
        238
    ],
    "command_specific_fields": {
        "method_name": "signal_garbage_collect"
    },
    "language": "python",
    "commit": "80baec602c32208fc3c8a979ce48db53ccdd6725",
    "prompt": ""
}