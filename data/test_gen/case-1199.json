{
    "case_id": "case-1199",
    "repo_name": "dbcli/mycli",
    "file_path": "mycli/sqlexecute.py",
    "code_snippet": "        db = (database or self.dbname)\n        user = (user or self.user)\n        password = (password or self.password)\n        host = (host or self.host)\n        port = (port or self.port)\n        socket = (socket or self.socket)\n        charset = (charset or self.charset)\n        local_infile = (local_infile or self.local_infile)\n        ssl = (ssl or self.ssl)\n        ssh_user = (ssh_user or self.ssh_user)\n        ssh_host = (ssh_host or self.ssh_host)\n        ssh_port = (ssh_port or self.ssh_port)\n        ssh_password = (ssh_password or self.ssh_password)\n        ssh_key_filename = (ssh_key_filename or self.ssh_key_filename)\n        init_command = (init_command or self.init_command)\n        _logger.debug(\n            'Connection DB Params: \\n'\n            '\\tdatabase: %r'\n            '\\tuser: %r'\n            '\\thost: %r'\n            '\\tport: %r'\n            '\\tsocket: %r'\n            '\\tcharset: %r'\n            '\\tlocal_infile: %r'\n            '\\tssl: %r'\n            '\\tssh_user: %r'\n            '\\tssh_host: %r'\n            '\\tssh_port: %r'\n            '\\tssh_password: %r'\n            '\\tssh_key_filename: %r'\n            '\\tinit_command: %r',\n            db, user, host, port, socket, charset, local_infile, ssl,\n            ssh_user, ssh_host, ssh_port, ssh_password, ssh_key_filename,\n            init_command\n        )\n        conv = conversions.copy()\n        conv.update({\n            FIELD_TYPE.TIMESTAMP: lambda obj: (convert_datetime(obj) or obj),\n            FIELD_TYPE.DATETIME: lambda obj: (convert_datetime(obj) or obj),\n            FIELD_TYPE.TIME: lambda obj: (convert_timedelta(obj) or obj),\n            FIELD_TYPE.DATE: lambda obj: (convert_date(obj) or obj),\n        })\n\n        defer_connect = False\n\n        if ssh_host:\n            defer_connect = True\n\n        client_flag = pymysql.constants.CLIENT.INTERACTIVE\n        if init_command and len(list(special.split_queries(init_command))) > 1:\n            client_flag |= pymysql.constants.CLIENT.MULTI_STATEMENTS\n\n        ssl_context = None\n        if ssl:\n            ssl_context = self._create_ssl_ctx(ssl)\n\n        conn = pymysql.connect(\n            database=db, user=user, password=password, host=host, port=port,\n            unix_socket=socket, use_unicode=True, charset=charset,\n            autocommit=True, client_flag=client_flag,\n            local_infile=local_infile, conv=conv, ssl=ssl_context, program_name=\"mycli\",\n            defer_connect=defer_connect, init_command=init_command\n        )\n\n        if ssh_host:\n            client = paramiko.SSHClient()\n            client.load_system_host_keys()\n            client.set_missing_host_key_policy(paramiko.WarningPolicy())\n            client.connect(\n                ssh_host, ssh_port, ssh_user, ssh_password,\n                key_filename=ssh_key_filename\n            )\n            chan = client.get_transport().open_channel(\n                'direct-tcpip',\n                (host, port),\n                ('0.0.0.0', 0),\n            )\n            conn.connect(chan)\n\n        if hasattr(self, 'conn'):\n            self.conn.close()\n        self.conn = conn\n        \n        \n        self.dbname = db\n        self.user = user\n        self.password = password\n        self.host = host\n        self.port = port\n        self.socket = socket\n        self.charset = charset\n        self.ssl = ssl\n        self.init_command = init_command\n        \n        self.reset_connection_id()\n        self.server_info = ServerInfo.from_version_string(conn.server_version)",
    "line_range": [
        121,
        222
    ],
    "command_specific_fields": {
        "method_name": "connect"
    },
    "language": "python",
    "commit": "af5a17d980450e184cfc25e56e0e91a1389d378d",
    "prompt": ""
}