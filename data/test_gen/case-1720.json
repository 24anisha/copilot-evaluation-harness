{
    "case_id": "case-1720",
    "repo_name": "pallets/click",
    "file_path": "src/click/termui.py",
    "code_snippet": "\n\n\n\ndef progressbar(\n\n    iterable: cabc.Iterable[V] | None = None,\n\n    length: int | None = None,\n\n    label: str | None = None,\n\n    show_eta: bool = True,\n\n    show_percent: bool | None = None,\n\n    show_pos: bool = False,\n\n    item_show_func: t.Callable[[V | None], str | None] | None = None,\n\n    fill_char: str = \"#\",\n\n    empty_char: str = \"-\",\n\n    bar_template: str = \"%(label)s  [%(bar)s]  %(info)s\",\n\n    info_sep: str = \"  \",\n\n    width: int = 36,\n\n    file: t.TextIO | None = None,\n\n    color: bool | None = None,\n\n    update_min_steps: int = 1,\n\n) -> ProgressBar[V]:\n\n    \"\"\"This function creates an iterable context manager that can be used\n\n    to iterate over something while showing a progress bar.  It will\n\n    either iterate over the `iterable` or `length` items (that are counted\n\n    up).  While iteration happens, this function will print a rendered\n\n    progress bar to the given `file` (defaults to stdout) and will attempt\n\n    to calculate remaining time and more.  By default, this progress bar\n\n    will not be rendered if the file is not a terminal.\n\n\n\n    The context manager creates the progress bar.  When the context\n\n    manager is entered the progress bar is already created.  With every\n\n    iteration over the progress bar, the iterable passed to the bar is\n\n    advanced and the bar is updated.  When the context manager exits,\n\n    a newline is printed and the progress bar is finalized on screen.\n\n\n\n    Note: The progress bar is currently designed for use cases where the\n\n    total progress can be expected to take at least several seconds.\n\n    Because of this, the ProgressBar class object won't display\n\n    progress that is considered too fast, and progress where the time\n\n    between steps is less than a second.\n\n\n\n    No printing must happen or the progress bar will be unintentionally\n\n    destroyed.\n\n\n\n    Example usage::\n\n\n\n        with progressbar(items) as bar:\n\n            for item in bar:\n\n                do_something_with(item)\n\n\n\n    Alternatively, if no iterable is specified, one can manually update the\n\n    progress bar through the `update()` method instead of directly\n\n    iterating over the progress bar.  The update method accepts the number\n\n    of steps to increment the bar with::\n\n\n\n        with progressbar(length=chunks.total_bytes) as bar:\n\n            for chunk in chunks:\n\n                process_chunk(chunk)\n\n                bar.update(chunks.bytes)\n\n\n\n    The ``update()`` method also takes an optional value specifying the\n\n    ``current_item`` at the new position. This is useful when used\n\n    together with ``item_show_func`` to customize the output for each\n\n    manual step::\n\n\n\n        with click.progressbar(\n\n            length=total_size,\n\n            label='Unzipping archive',\n\n            item_show_func=lambda a: a.filename\n\n        ) as bar:\n\n            for archive in zip_file:\n\n                archive.extract()\n\n                bar.update(archive.size, archive)\n\n\n\n    :param iterable: an iterable to iterate over.  If not provided the length\n\n                     is required.\n\n    :param length: the number of items to iterate over.  By default the\n\n                   progressbar will attempt to ask the iterator about its\n\n                   length, which might or might not work.  If an iterable is\n\n                   also provided this parameter can be used to override the\n\n                   length.  If an iterable is not provided the progress bar\n\n                   will iterate over a range of that length.\n\n    :param label: the label to show next to the progress bar.\n\n    :param show_eta: enables or disables the estimated time display.  This is\n\n                     automatically disabled if the length cannot be\n\n                     determined.\n\n    :param show_percent: enables or disables the percentage display.  The\n\n                         default is `True` if the iterable has a length or\n\n                         `False` if not.\n\n    :param show_pos: enables or disables the absolute position display.  The\n\n                     default is `False`.\n\n    :param item_show_func: A function called with the current item which\n\n        can return a string to show next to the progress bar. If the\n\n        function returns ``None`` nothing is shown. The current item can\n\n        be ``None``, such as when entering and exiting the bar.\n\n    :param fill_char: the character to use to show the filled part of the\n\n                      progress bar.\n\n    :param empty_char: the character to use to show the non-filled part of\n\n                       the progress bar.\n\n    :param bar_template: the format string to use as template for the bar.\n\n                         The parameters in it are ``label`` for the label,\n\n                         ``bar`` for the progress bar and ``info`` for the\n\n                         info section.\n\n    :param info_sep: the separator between multiple info items (eta etc.)\n\n    :param width: the width of the progress bar in characters, 0 means full\n\n                  terminal width\n\n    :param file: The file to write to. If this is not a terminal then\n\n        only the label is printed.\n\n    :param color: controls if the terminal supports ANSI colors or not.  The\n\n                  default is autodetection.  This is only needed if ANSI\n\n                  codes are included anywhere in the progress bar output\n\n                  which is not the case by default.\n\n    :param update_min_steps: Render only when this many updates have\n\n        completed. This allows tuning for very fast iterators.\n\n\n\n    .. versionchanged:: 8.0\n\n        Output is shown even if execution time is less than 0.5 seconds.\n\n\n\n    .. versionchanged:: 8.0\n\n        ``item_show_func`` shows the current item, not the previous one.\n\n\n\n    .. versionchanged:: 8.0\n\n        Labels are echoed if the output is not a TTY. Reverts a change\n\n        in 7.0 that removed all output.\n\n\n\n    .. versionadded:: 8.0\n\n       Added the ``update_min_steps`` parameter.\n\n\n\n    .. versionchanged:: 4.0\n\n        Added the ``color`` parameter. Added the ``update`` method to\n\n        the object.\n\n\n\n    .. versionadded:: 2.0\n\n    \"\"\"\n\n    from ._termui_impl import ProgressBar\n\n\n\n    color = resolve_color_default(color)\n\n    return ProgressBar(\n\n        iterable=iterable,\n\n        length=length,\n\n        show_eta=show_eta,\n\n        show_percent=show_percent,\n\n        show_pos=show_pos,\n\n        item_show_func=item_show_func,\n\n        fill_char=fill_char,\n\n        empty_char=empty_char,\n\n        bar_template=bar_template,\n\n        info_sep=info_sep,\n\n        file=file,\n\n        label=label,\n\n        width=width,\n\n        color=color,\n\n        update_min_steps=update_min_steps,\n\n    )\n",
    "line_range": [
        285,
        436
    ],
    "command_specific_fields": {
        "method_name": "progressbar"
    },
    "language": "python",
    "commit": "14f735cf59618941cf2930e633eb77651b1dc7cb",
    "prompt": ""
}